[tasks.default]
description = "Run the default task (dev)"
command = "cargo"
args = ["run"]

[tasks.dev]
description = "Run the development server with hot-reload"
script = [
  "systemfd --no-pid -s http::3025 -- watchexec -r -- cargo run"
]

[tasks.build]
description = "Build the project in debug mode"
command = "cargo"
args = ["build"]

[tasks.release]
description = "Build the project in release mode"
command = "cargo"
args = ["build", "--release"]

[tasks.test]
description = "Run all tests"
command = "cargo"
args = ["test"]

[tasks.test-verbose]
description = "Run all tests with verbose output"
command = "cargo"
args = ["test", "--", "--nocapture"]

[tasks.fmt]
description = "Format the codebase using rustfmt"
command = "cargo"
args = ["fmt"]

[tasks.fmt-check]
description = "Check if code is formatted without making changes"
command = "cargo"
args = ["fmt", "--", "--check"]

[tasks.check]
description = "Check the code without building"
command = "cargo"
args = ["check"]

[tasks.clean]
description = "Clean build artifacts"
command = "cargo"
args = ["clean"]

[tasks.commit]
description = "Run format, clippy, test, and build"
dependencies = ["test", "check", "fmt"]

